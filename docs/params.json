{
  "name": "Discord rss bot",
  "tagline": "A Discord bot that reads RSS feeds and repeats them into a channel",
  "body": "# [Discord RSS Bot](https://github.com/freiheit/discord_rss_bot)\r\n\r\n![Feed Bot](avatar-angry-small.png)\r\n\r\nBot for taking in an RSS or Atom feed and sharing it into a Discord channel.\r\n\r\nDesigned to be very configurable.\r\n\r\nIt should be possible to use as a library in another bot.\r\n\r\nSince this bot doesn't *react* to anything in channels or messages, you could always\r\nhave it sign into the same account as another bot, and externally it should appear to\r\nbe a single bot.\r\n\r\n## Initial Setup\r\n\r\n1. Make sure the time on your system is correct. (NTP strongly recommended)\r\n2. Go here: https://discordapp.com/developers/applications/me#top\r\n3. Register an \"application\" and create an \"app bot user\".\r\n4. Replace \"APP_CLIENT_ID\" with the App's Client ID in this URL:\r\n   https://discordapp.com/oauth2/authorize?&client_id=APP_CLIENT_ID&scope=bot&permissions=153600\r\n5. Give that URL to the Discord server/guild owner and have them authorize\r\n   the bot.\r\n6. `git clone` this repo.\r\n7. Copy feed2discord.ini to feed2discord.local.ini\r\n8. Put the App Bot User's 'Token' in the .ini file.\r\n9. Set the timezone in the .ini file to the same as the timezone your system is set to.\r\n10. Get all the channel IDs (Turn on \"Developer Mode\" in Settings/Appearance, then right-click channel)\r\n11. Figure out your feeds.\r\n   - You'll need to figure out what fields by examining what's in an item in your feeds.\r\n12. configure feeds in feed2discord.local.ini (anything that's not MAIN, CHANNELS or DEFAULT is assumed to be a feed)\r\n13. Run the bot.\r\n\r\n## Use as Library\r\n\r\nI have not tested at all, but I have tried to make it possible to plug this\r\nin as a library. Probably needs work. You'll need to replace your simple\r\n\"client.run()\" with the more complicated stuff inside the if __name__ block\r\ninstead (in order to insert the background task coroutines into async)\r\n\r\nIf you want to do live changes, you should be able to change the CONFIG variable.\r\n\r\nI'm guessing a few changes will need to be made in order to run as a\r\nlibrary, like maybe changing how client= gets set, to something with a\r\nsetup function that takes an optional client argument, maybe? If you figure\r\nit out, please give me a pull request.\r\n\r\n## Requirements\r\n(see also requirements.txt)\r\n- Python 3.4.2+\r\n- [discord.py](https://github.com/Rapptz/discord.py)\r\n- [feedparser](https://pypi.python.org/pypi/feedparser)\r\n- [html2text](https://pypi.python.org/pypi/html2text)\r\n\r\n## Frequently Asked Questions\r\n### How do I figure out my timezone?\r\nOn Windows, check settings/time for the timezone or run \"tzutil /g\".\r\n\r\nOn Unix/Linux systems, this is more complicated than it should be. Things to check:\r\n- `echo $TZ`\r\n- `ls -l /etc/localtime`\r\n- `cat /etc/timezone`\r\n- `find /usr/share/zoneinfo/ -type f| xargs md5sum | grep $(md5sum /etc/localtime  | cut -d' ' -f1)`\r\n- `date +%Z` # careful, may give you a timezone only useful half of the year\r\n\r\n### It looks like it's working, but nothing posts, and logs say `too old; skipping` for everything.\r\nDouble-check your timezone settings! If the timezone isn't right, and max_age is under 24 hours (86400), then it's possible for\r\nbrand-new posts to look too old to post.\r\n\r\nIf it all looks right, try turning on debug in .ini. Then look for output like this:\r\n```\r\nDEBUG:__main__:reddit:now:1467657389.0983927\r\nDEBUG:__main__:reddit:now:gmtime:time.struct_time(tm_year=2016, tm_mon=7, tm_mday=4, tm_hour=18, tm_min=36, tm_sec=29, tm_wday=0, tm_yday=186, tm_isdst=0)\r\nDEBUG:__main__:reddit:now:localtime:time.struct_time(tm_year=2016, tm_mon=7, tm_mday=4, tm_hour=11, tm_min=36, tm_sec=29, tm_wday=0, tm_yday=186, tm_isdst=1)\r\nDEBUG:__main__:reddit:timezone.localize(datetime.now()):2016-07-04 11:36:29.098784-07:00\r\nDEBUG:__main__:reddit:pubDate:Mon Jul 04 14:04:44 UTC 2016\r\nDEBUG:__main__:reddit:pubDate_parsed:2016-07-04 14:04:44+00:00\r\nDEBUG:__main__:reddit:pubDate_parsed.astimezome(timezone):2016-07-04 07:04:44-07:00\r\n```\r\n\r\nIf `now:localtime` doesn't look like your current time and/or `now:gmtime` doesn't look like current UTC time, that's your problem. `now:gmtime` being off indicates your system clock is wrong. If `now:gmtime` is right, but `now:localtime` is not, you probably have the timezone set wrong in your .ini file.\r\n\r\nWorkarounds:\r\n- set timezone to \"UTC\" and also run the script with the `TZ` environment variable set to `UTC`, in order to run this one program in UTC.\r\n- Set max_age to 86400 (24 hours) or higher. The max_age setting is mostly just there to keep the first run on a feed from spamming your channels. You can run once with output only to a test channel, then stop, reconfigure for real channels, and run again.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}